{"version":3,"file":"js/526.2c87729a.js","mappings":"+SAUI,MAAMA,EAAOC,EAEPC,GAAYC,EAAAA,EAAAA,KAAI,GAChBC,GAAYD,EAAAA,EAAAA,IAAI,MAEhBE,EAAOA,KACTH,EAAUI,OAAQ,EAClBC,aAAaH,EAAUE,OACvBF,EAAUE,MAAQ,KAClBN,EAAK,QAAQ,EAAM,EAGjBQ,EAAOA,KACTN,EAAUI,OAAQ,EAClBF,EAAUE,MAAQG,YAAW,KACzBJ,GAAM,GACP,KAAK,E,OAEZK,EAAAA,EAAAA,KAAU,KAAQF,GAAM,KACxBG,EAAAA,EAAAA,KAAY,KAAQJ,aAAaH,EAAUE,MAAM,I,gMCxBrD,MAAMM,EAAc,EAEpB,O,wfCkBI,MAAMC,GAASV,EAAAA,EAAAA,IAAI,CAAC,GACdW,GAAeX,EAAAA,EAAAA,IAAI,IACnBY,GAAeZ,EAAAA,EAAAA,KAAI,GACnBa,GAAQC,EAAAA,EAAAA,MACRC,GAAWf,EAAAA,EAAAA,IAAIa,EAAMG,MAAMD,UAAY,IAGvCE,EAAYA,KACdN,EAAaR,MAAQ,GACrBS,EAAaT,OAAQ,CAAK,EAGxBe,EAAaA,KACf,IAAIC,EAAgB,GACpB,OAAKJ,EAASZ,OAAUY,EAASZ,MAAMiB,OAI5BL,EAASZ,MAAMiB,OAAS,GAAKL,EAASZ,MAAMiB,OAAS,IAC5DV,EAAOP,MAAM,YAAc,6DAC3BQ,EAAaR,MAAQ,YAGrBgB,EAAgBJ,EAASZ,OAAS,YAClCkB,aAAaC,QAAQ,oBAAqBH,GAC1CN,EAAMU,OAAO,cAAeJ,GAC5BR,EAAaR,MAAQ,6BACrBS,EAAaT,OAAQ,KAZrBO,EAAOP,MAAM,YAAc,yCAC3BQ,EAAaR,MAAQ,UAYzB,E,2lBChDR,MAAMM,EAAc,EAEpB,O","sources":["webpack://vue-chat-v2/./src/components/AppAlert.vue","webpack://vue-chat-v2/./src/components/AppAlert.vue?dd66","webpack://vue-chat-v2/./src/views/SettingsView.vue","webpack://vue-chat-v2/./src/views/SettingsView.vue?80d1"],"sourcesContent":["<template>\r\n    <Transition name=\"fade\" @click.prevent=\"hide\">\r\n        <div class=\"alert\" v-if=\"isVisible\">\r\n            {{ message }}\r\n        </div>\r\n    </Transition>\r\n</template>\r\n\r\n<script setup>\r\n    import { defineEmits, defineProps, onMounted, onUnmounted, ref } from \"vue\"\r\n    const emit = defineEmits([\"hide\"])\r\n    defineProps({ message: String, })\r\n    const isVisible = ref(false)\r\n    const myTimeout = ref(null)\r\n    // Отключить\r\n    const hide = () => {\r\n        isVisible.value = false \r\n        clearTimeout(myTimeout.value)\r\n        myTimeout.value = null\r\n        emit(\"hide\", false)\r\n    }\r\n    // Активировать\r\n    const show = () => {\r\n        isVisible.value = true\r\n        myTimeout.value = setTimeout(() => {\r\n            hide()\r\n        }, 2500);\r\n    }\r\n    onMounted(() => { show() })\r\n    onUnmounted(() => { clearTimeout(myTimeout.value) })\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    .alert {\r\n        max-width: 250px;\r\n        cursor: pointer;\r\n        position: fixed;\r\n        z-index: 100;\r\n        top: 10px;\r\n        right: 10px;\r\n        padding: 10px;\r\n        background-color: var(--clr-primary);\r\n        color: var(--clr-tertiary);\r\n        border-radius: var(--border-radius-default);\r\n    }\r\n</style>","import script from \"./AppAlert.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AppAlert.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AppAlert.vue?vue&type=style&index=0&id=716a84f9&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <AppAlert :message=\"alertMessage\" @hide=\"hideAlert\" v-if=\"alertVisible\"/>\r\n    <div class=\"settings\">\r\n        <div class=\"container\">\r\n            <div class=\"settings__inner\">\r\n                <h1 class=\"settings__title\"><span class=\"span--green\">Настройки</span> ваше профиля</h1>\r\n\r\n                <div class=\"settings__list\">\r\n                    <div class=\"form--box\">\r\n                        <label for=\"username\">Ваше имя</label>              \r\n                        <input type=\"text\" @keyup.enter=\"updateName\" class=\"input--text\" placeholder=\"Введите имя\" v-model=\"username\">\r\n                    </div>\r\n                    <p v-if=\"errors['username']\" class=\"settings__error\">{{ errors[\"username\"] }}</p>\r\n                </div>\r\n                <button class=\"btn\" @click=\"updateName\">Обновить</button>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\n    import { useStore } from \"vuex\"\r\n    import AppAlert from \"@/components/AppAlert.vue\"\r\n    import { ref } from \"vue\"\r\n    const errors = ref({})\r\n    const alertMessage = ref(\"\")\r\n    const alertVisible = ref(false)\r\n    const store = useStore()\r\n    const username = ref(store.state.username || \"\")\r\n\r\n    // const \r\n    const hideAlert = () => {\r\n        alertMessage.value = \"\"\r\n        alertVisible.value = false\r\n    }\r\n\r\n    const updateName = () => {\r\n        let localUsername = \"\"\r\n        if (!username.value || !username.value.length) {\r\n            errors.value[\"username\"] = \"Ошибка. Имя не должно быть пустым\"\r\n            alertMessage.value = \"Ошибка\"\r\n            return \r\n        } else if (username.value.length < 3 || username.value.length > 50) {\r\n            errors.value[\"username\"] = \"Ошибка. Имя должно быть больше 3 символов и меньше 50\"\r\n            alertMessage.value = \"Ошибка\"\r\n            return \r\n        } else {\r\n            localUsername = username.value || \"Без имени\"\r\n            localStorage.setItem(\"VideoChatUserName\", localUsername)\r\n            store.commit(\"setUsername\", localUsername)\r\n            alertMessage.value = \"Имя успешно обновлено\"\r\n            alertVisible.value = true\r\n        }\r\n        \r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    .settings {\r\n        &__error {\r\n            margin: 15px 0;  \r\n        }\r\n        &__inner {\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n            justify-content: center;\r\n            gap: 15px;\r\n            background: var(--clr-tertiary);\r\n            border-radius: var(--border-radius-default);\r\n            padding: 10px 0;\r\n        }\r\n        &__list {\r\n            display: flex;\r\n            align-items: center;\r\n            flex-direction: column;\r\n        }\r\n    }\r\n</style>","import script from \"./SettingsView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SettingsView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SettingsView.vue?vue&type=style&index=0&id=352b5146&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["emit","__emit","isVisible","ref","myTimeout","hide","value","clearTimeout","show","setTimeout","onMounted","onUnmounted","__exports__","errors","alertMessage","alertVisible","store","useStore","username","state","hideAlert","updateName","localUsername","length","localStorage","setItem","commit"],"sourceRoot":""}