{"version":3,"file":"js/533.0f96ef1c.js","mappings":"wfAmBI,MAAMA,GAASC,EAAAA,EAAAA,IAAI,CAAC,GACdC,GAAWD,EAAAA,EAAAA,IAAI,IACfE,GAAQC,EAAAA,EAAAA,MACRC,GAASC,EAAAA,EAAAA,MACTC,GAAQC,EAAAA,EAAAA,OACdC,EAAAA,EAAAA,KAAU,KACN,MAAMC,EAAOC,aAAaC,QAAQ,sBAAwB,GACtDF,GACAP,EAAMU,OAAO,cAAeH,EAChC,IAEJ,MAAMI,EAAUA,KACZ,MAAMJ,EAAOR,EAASa,MAAMC,OACvBN,GAASA,EAAKO,OAGRP,EAAKO,OAAS,GAAKP,EAAKO,OAAS,GACxCjB,EAAOe,MAAM,YAAc,oBAG3BL,GAAQP,EAAMU,OAAO,cAAeH,GACxCC,aAAaO,QAAQ,oBAAqBR,GACrCH,EAAMY,eAGPd,EAAOe,KAAKb,EAAMY,eAAeE,UAFjChB,EAAOe,KAAK,MATZpB,EAAOe,MAAM,YAAc,0BAY/B,E,sZCxCR,MAAMO,EAAc,EAEpB,O","sources":["webpack://vue-chat-v2/./src/views/AuthView.vue","webpack://vue-chat-v2/./src/views/AuthView.vue?ce05"],"sourcesContent":[".<template>\r\n    <div class=\"auth\">\r\n        <div class=\"auth__inner\">\r\n            <div class=\"auth__form\">\r\n                <h1 class=\"title auth__title\"><span class=\"span--green\">Введите</span> свое имя</h1>\r\n                <div class=\"form--box\">\r\n                    <input type=\"text\" @keyup.enter=\"setName\" v-model=\"username\" class=\"input--text\" placeholder=\"Введите имя\">\r\n                    <button class=\"btn\" @click=\"setName\">Продолжить</button>\r\n                </div>\r\n            </div>\r\n            <p class=\"auth__errors\">{{ errors[\"username\"] }}</p>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\n    import { ref, onMounted } from \"vue\"\r\n    import { useRouter, useRoute } from \"vue-router\"\r\n    import { useStore } from 'vuex'\r\n    const errors = ref({})\r\n    const username = ref(\"\")\r\n    const store = useStore()\r\n    const router = useRouter()\r\n    const route = useRoute()\r\n    onMounted(() => {\r\n        const name = localStorage.getItem(\"VideoChatUserName\") || \"\"\r\n        if (name) { \r\n            store.commit(\"setUsername\", name)\r\n        }\r\n    })\r\n    const setName = () => {\r\n        const name = username.value.trim()\r\n        if (!name || !name.length) {\r\n            errors.value[\"username\"] = \"Имя не может быть пустым\"\r\n            return \r\n        } else if (name.length < 3 || name.length > 50) {\r\n            errors.value[\"username\"] = \"Некорректное имя\"\r\n            return \r\n        }\r\n        if (name) { store.commit(\"setUsername\", name); }\r\n        localStorage.setItem(\"VideoChatUserName\", name)\r\n        if (!route.redirectedFrom) {\r\n            router.push(\"/\")\r\n        } else {\r\n            router.push(route.redirectedFrom.fullPath)\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    .auth {\r\n        position: fixed;\r\n        inset: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        z-index: 200;\r\n        background-color: var(--clr-tertiary);\r\n        &__inner {\r\n            height: 100%;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            flex-direction: column;\r\n        }\r\n        &__title {\r\n            margin-bottom: 5px;\r\n            text-align: center\r\n        }\r\n        &__errors {\r\n            max-width: 300px;\r\n        }\r\n    }\r\n</style>","import script from \"./AuthView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AuthView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AuthView.vue?vue&type=style&index=0&id=1076a3c4&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["errors","ref","username","store","useStore","router","useRouter","route","useRoute","onMounted","name","localStorage","getItem","commit","setName","value","trim","length","setItem","redirectedFrom","push","fullPath","__exports__"],"sourceRoot":""}